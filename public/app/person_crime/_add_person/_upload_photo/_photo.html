
    <div class="row bs-wizard" style="border-bottom:0;">

        <div class="col-xs-3 bs-wizard-step complete">
            <div class="text-center bs-wizard-stepnum">ขั้นตอนที่ 1</div>
            <div class="progress"><div class="progress-bar"></div></div>
            <a href="#" class="bs-wizard-dot"></a>
            <div class="bs-wizard-info text-center">กรอกข้อมูลบุคคล</div>
        </div>

        <div class="col-xs-3 bs-wizard-step active"><!-- complete -->
            <div class="text-center bs-wizard-stepnum">ขั้นตอนที่ 2</div>
            <div class="progress"><div class="progress-bar"></div></div>
            <a href="#" class="bs-wizard-dot"></a>
            <div class="bs-wizard-info text-center">อัพโหลดรูปภาพบุคคล</div>
        </div>

        <div class="col-xs-3 bs-wizard-step "><!-- complete -->
            <div class="text-center bs-wizard-stepnum">ขั้นตอนที่ 3</div>
            <div class="progress"><div class="progress-bar"></div></div>
            <a href="#" class="bs-wizard-dot1"></a>
            <div class="bs-wizard-info text-center">ตรวจสอบ/ยืนยัน</div>
        </div>

        <div class="col-xs-3 bs-wizard-step "><!-- complete -->
            <div class="text-center bs-wizard-stepnum">ขั้นตอนที่ 4</div>
            <div class="progress"><div class="progress-bar"></div></div>
            <a href="#" class="bs-wizard-dot1"></a>
            <div class="bs-wizard-info text-center">บันทึกข้อมูลเสร็จสมบูรณ์</div>
        </div>


    </div>


<div class="row" >
    <div class="col-xs-12 col-sm-12">

        <div class="row page-header">
            <div class="col-sm-4">
                <h1 class="">อัพโหลดรูปภาพ</h1>
            </div>
            <div class="col-sm-8 text-right padding-top-20">
                <button type="button" ui-sref="form_add.add" class="btn btn-warning"><i class="fa fa-arrow-left"></i> แก้ไขประวัติ</button>

                <button type="button" ui-sref="form_add.comfirm"  class="btn btn-success"><i class="fa fa-floppy-o"></i> ตรวจสอบประวัติ/บันทึกประวัติ</button>
                <button type="button" ui-sref="home" class="btn btn-danger"><i class="fa fa-times"></i> ยกเลิก</button></div>
            <!-- /.col-lg-12 -->
        </div>
        <div class="box">
            <div class="box-header">
                <div class="box-name">
                    <i class="fa fa-search"></i>
                    <span>อัพโหลดรูปภาพ</span>
                </div>
                <div class="box-icons">
                    <a ui-sref="home">
                        <i class="fa fa-arrow-left"></i>
                    </a>
                    <a class="collapse-link">
                        <i class="fa fa-chevron-up"></i>
                    </a>
                    <a class="expand-link">
                        <i class="fa fa-expand"></i>
                    </a>

                </div>
                <div class="no-move"></div>

            </div>
            <div class="box-content">
                <h4 class="page-header">อัพโหลดรูปภาพ</h4>
                <form class="form-horizontal" role="form">


                    <div class="form-group">
                        <div class="field" flow-init flow-object="myFlow"
                             flow-file-success="$file.msg = $message"
                             flow-file-added="!!{png:1,gif:1,jpg:1,jpeg:1}[$file.getExtension()]"
                             flow-file-success="flowSuccess($file,$message)" align="center">


                                <div class="container">
                                    <hr class="soften"/>

                                    <div>
                                        <button  class="btn btn-primary" ng-hide="$flow.files.length"
                                                 flow-btn flow-attrs="{accept:'image/*'}">เลือกรูปภาพ</button>
                                        <button  class="btn btn-warning" ng-show="$flow.files.length"
                                                 flow-btn flow-attrs="{accept:'image/*'}">เปลี่ยนรูปภาพ</button>
                                        <button  class="btn btn-danger"  ng-if="!file.isComplete()" ng-click="cancelFile(file)">
                                            ลบรูป
                                        </button>

                                    </div>


                                    <br>
                                    <p>
                                        Only PNG,GIF,JPG files allowed.
                                    </p>

                                    <div>
                                        <div ng-if="$flow.files.length==0 &&  !person.photo" class="">
                                            <img src="/img/square-image.png" width="400" height="300"/>
                                        </div>

                                        <div ng-if="$flow.files.length==0 && person.photo" class="">
                                            <img ng-src="<% person.photo %>" width="256" height="256"/>
                                            <div id="simple_gallery" class="box-content">
                                                <a class="fancybox" ng-href="<% person.photo %>" title="Westfield Waterfalls - Middletown CT Lower (Graham_CS)">
                                                    <img ng-src="<% person.photo %>" alt="" width="256" height="256" />
                                                </a>

                                            </div>
                                        </div>



                                        <div ng-repeat="file in myFlow.files">



                                            <div class="">
                                                <a ng-if="file.isComplete()" href="#" class="">
                                                    <i class=""></i>
                                                </a>
                                                <img flow-img="file"width="400" height="300"/>
                                                <div class="" ng-if="file.isUploading()">
                                                    <div class="" data-percent="<% file.progress() %>"></div>
                                                </div>
                                            </div>
                                            <br/>
                                            <tr ng-repeat="file in $flow.files">
                                                <td>ชื่อไฟล์ <% file.name %></td>
                                            </tr>


                                        </div>

                                            <br>



                                    </div>
                                </div>
                        </div>
                    </div>
                </form>

            </div>
        </div>
    </div>
</div>


    <script type="text/javascript">
        $(function () {


            $("#id_datetime_picker0").datetimepicker({
                format:'d-m-Y H:m',
                lang:'th',  // แสดงภาษาไทย
                yearOffset:543,  // ใช้ปี พ.ศ. บวก 543 เพิ่มเข้าไปในปี ค.ศ
                closeOnDateSelect:true
            });


            $(".css_i_select").on("change",function(){
                var i_select=$(this).val();
                if(i_select=="A"){
                    $(this).parents("tr").find(".css_more").show();
                }else{
                    $(this).parents("tr").find(".css_more").hide();
                }
            });


            $("#addRow").on("click",function(){
                // ส่วนของการ clone ข้อมูลด้วย jquery clone() ค่า true คือ
                // การกำหนดให้ ไม่ต้องมีการ ดึงข้อมูลจากค่าเดิมมาใช้งาน
                // รีเซ้ตเป็นค่าว่าง ถ้ามีข้อมูลอยู่แล้ว ทั้ง select หรือ input

                $(".datarow:eq(0)").clone(true)
                        .find("input").attr("value","").end()
                        .find("select").attr("value","").end()  //
                        .appendTo($(".place-datarow"));
                var lastIndex=$(".css_datetime_picker").size()-1; // หา index ของตัว input ล่าสุด
                var newId="id_datetime_picker"+lastIndex;
                var objID="#"+newId;
                var placeParent=$(".css_datetime_picker:eq("+lastIndex+")").parents("td");
                // แทนด้วย input ใหม่ ทับตัวเก่าไปเลย
                $(placeParent).html("<input type=\"text\" class=\"form-control css_datetime_picker\" name=\"date_product[]\" >");
                $(".css_datetime_picker:eq("+lastIndex+")")
                        .attr("id", newId) // - กำหนด id เป็นค่าใหม่
                        .unbind(); // - ยกเลิกการจัดการทั้งหมด ที่ได้มาจากตัว clone
                $(objID).datetimepicker(); // - เรียกใช้ datetimepicker() ใหม่อีกครั้ง

            });


        });
    </script>

    <script type="text/javascript">
        $(function(){

            var thaiYear = function (ct) {
                var leap=3;
                var dayWeek=["พฤ.", "ศ.", "ส.", "อา.","จ.", "อ.", "พ."];
                if(ct){
                    var yearL=new Date(ct).getFullYear()-543;
                    leap=(((yearL % 4 == 0) && (yearL % 100 != 0)) || (yearL % 400 == 0))?2:3;
                    if(leap==2){
                        dayWeek=["ศ.", "ส.", "อา.", "จ.","อ.", "พ.", "พฤ."];
                    }
                }
                this.setOptions({
                    i18n:{ th:{dayOfWeek:dayWeek}},dayOfWeekStart:leap
                })
            };

            $("#mydateth").datetimepicker({
                timepicker:false,  // กำหนด ไม่แสดงตัวเลือกเวลา
                format:'d-m-Y',  // กำหนดรูปแบบวันที่ ที่ใช้ เป็น 00-00-0000
                lang:'th',  // แสดงภาษาไทย
                yearStart:1914,  // ช่วงเลือกปีเริ่มต้น ใช้ ค.ศ.
                yearOffset:543,  // ใช้ปี พ.ศ. บวก 543 เพิ่มเข้าไปในปี ค.ศ
                onShow:thaiYear,
                onChangeMonth:thaiYear,
                closeOnDateSelect:true // ปิด ถ้าเลือกวันที่แล้ว
            });

            $("#mydateth").on("change",function(){
                var dayBirth=$(this).val();
                var getdayBirth=dayBirth.split("-");
                var YB=getdayBirth[2]-543;
                var MB=getdayBirth[1];
                var DB=getdayBirth[0];

                var setdayBirth=moment(YB+"-"+MB+"-"+DB);
                var setNowDate=moment();
                var yearData=setNowDate.diff(setdayBirth, 'years', true); // ข้อมูลปีแบบทศนิยม
                var yearFinal=Math.round(setNowDate.diff(setdayBirth, 'years', true),0); // ปีเต็ม
                var yearReal=setNowDate.diff(setdayBirth, 'years'); // ปีจริง
                var monthDiff=Math.floor((yearData-yearReal)*12); // เดือน
                var str_year_month=yearReal+" ปี "+monthDiff+" เดือน"; // ต่อวันเดือนปี
                $("#age").val(str_year_month);

            });

        });
    </script>